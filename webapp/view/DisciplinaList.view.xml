<mvc:View
	controllerName="brightstart.ips.ui5.controller.DisciplinaList"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	displayBlock="true">
	
	<Page
		id="disciplinaListPage"
		title="{i18n>appTitle}"
		showNavButton="false">
		
		<customHeader>
			<Bar>
				<contentLeft>
					<Title text="{i18n>appTitle}" level="H1" />
				</contentLeft>
				<contentRight>
					<Button
						icon="sap-icon://hint"
						tooltip="{i18n>aboutButton}"
						press=".onOpenAbout" />
				</contentRight>
			</Bar>
		</customHeader>
		
		<content>
			<!-- Dashboard com estatísticas -->
			<VBox class="sapUiSmallMargin">
				<Panel
					headerText="{i18n>dashboardTitle}"
					expandable="false"
					expanded="true">
					<content>
						<HBox justifyContent="SpaceAround" class="sapUiSmallMarginTopBottom">
							<VBox alignItems="Center">
								<Title text="{appState>/totalResources}" level="H2" />
								<Label text="{i18n>totalResources}" />
							</VBox>
							<VBox alignItems="Center">
								<Title text="{appState>/resourcesByType/livro}" level="H3" />
								<Label text="{i18n>statsLivros}" />
							</VBox>
							<VBox alignItems="Center">
								<Title text="{appState>/resourcesByType/video}" level="H3" />
								<Label text="{i18n>statsVideos}" />
							</VBox>
							<VBox alignItems="Center">
								<Title text="{appState>/resourcesByType/artigo}" level="H3" />
								<Label text="{i18n>statsArtigos}" />
							</VBox>
						</HBox>
					</content>
				</Panel>
			</VBox>
			
			<!-- Área de pesquisa -->
			<VBox class="sapUiSmallMargin">
				<HBox alignItems="Center" justifyContent="SpaceBetween">
					<SearchField
						id="searchField"
						width="70%"
						placeholder="{i18n>searchPlaceholder}"
						tooltip="{i18n>searchTooltip}"
						liveChange=".onSearch"
						value="{appState>/searchQuery}" />
				</HBox>
				<Text
					text="{i18n>searchInfo}"
					class="sapUiTinyMarginTop" />
			</VBox>
			
			<!-- Lista de Disciplinas -->
			<VBox class="sapUiSmallMargin">
				<Title text="{i18n>disciplinasTitle}" level="H2" />
				<List
					id="disciplinaList"
					items="{resources>/Disciplinas}"
					mode="None"
					noDataText="{i18n>selectDisciplina}">
					<StandardListItem
						title="{resources>nome}"
						description="{
							parts: ['resources>recursos'],
							formatter: '.formatter.formatResourceCount'
						}"
						icon="sap-icon://curriculum"
						iconInset="false"
						type="Navigation"
						press=".onDisciplinaPress" />
				</List>
			</VBox>
		</content>
	</Page>
</mvc:View>
